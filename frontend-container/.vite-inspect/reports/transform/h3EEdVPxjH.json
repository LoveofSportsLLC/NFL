{
  "resolvedId": "/home/zepor/ssweb/frontend-container/node_modules/@restart/ui/esm/useRootClose.js",
  "transforms": [
    {
      "name": "vite:load-fallback",
      "result": "import listen from 'dom-helpers/listen';\nimport ownerDocument from 'dom-helpers/ownerDocument';\nimport { useEffect } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport useClickOutside, { getRefTarget } from './useClickOutside';\nimport { isEscKey } from './utils';\nconst noop = () => {};\n/**\n * The `useRootClose` hook registers your callback on the document\n * when rendered. Powers the `<Overlay/>` component. This is used achieve modal\n * style behavior where your callback is triggered when the user tries to\n * interact with the rest of the document or hits the `esc` key.\n *\n * @param {Ref<HTMLElement>| HTMLElement} ref  The element boundary\n * @param {function} onRootClose\n * @param {object=}  options\n * @param {boolean=} options.disabled\n * @param {string=}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\n */\nfunction useRootClose(ref, onRootClose, {\n  disabled,\n  clickTrigger\n} = {}) {\n  const onClose = onRootClose || noop;\n  useClickOutside(ref, onClose, {\n    disabled,\n    clickTrigger\n  });\n  const handleKeyUp = useEventCallback(e => {\n    if (isEscKey(e)) {\n      onClose(e);\n    }\n  });\n  useEffect(() => {\n    if (disabled || ref == null) return undefined;\n    const doc = ownerDocument(getRefTarget(ref));\n\n    // Store the current event to avoid triggering handlers immediately\n    // https://github.com/facebook/react/issues/20074\n    let currentEvent = (doc.defaultView || window).event;\n    const removeKeyupListener = listen(doc, 'keyup', e => {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === currentEvent) {\n        currentEvent = undefined;\n        return;\n      }\n      handleKeyUp(e);\n    });\n    return () => {\n      removeKeyupListener();\n    };\n  }, [ref, disabled, handleKeyUp]);\n}\nexport default useRootClose;",
      "start": 1702937443146,
      "end": 1702937443163,
      "sourcemaps": null
    },
    {
      "name": "vite:react-babel",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "pre"
    },
    {
      "name": "vite:css",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:esbuild",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:json",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:define",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:build-html",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "commonjs",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "inject",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1702937443163,
      "end": 1702937443163,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1702937443163,
      "end": 1702937443164,
      "order": "normal"
    },
    {
      "name": "vite:build-import-analysis",
      "start": 1702937443164,
      "end": 1702937443164,
      "order": "normal"
    },
    {
      "name": "vite:reporter",
      "start": 1702937443164,
      "end": 1702937443164,
      "order": "normal"
    }
  ]
}
