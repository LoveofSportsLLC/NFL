version: '3.7'

services:
  redis:
    environment:
      - REDIS_SERVICE_HOST=redis
      - REDIS_SERVICE_PORT=6379
  backend:
    environment:
      - DEBUG=false
      - NODE_ENV=production
      - BACKEND_SERVICE_HOST=redis 
      - BACKEND_SERVICE_PORT=5000
    volumes:
      - ./backend-container/src:/ssweb/src:delegated

  frontend:
    environment:
      - DEBUG=false
      - NODE_ENV=production
      - FRONTEND_SERVICE_HOST=frontend
      - FRONTEND_SERVICE_PORT=3000
    volumes:
      - ./jabascript/:/app:delegated
      - /app/node_modules